<!DOCTYPE html>
<html lang="it" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Vendita lotti edificabili residenziali a Bagnolo Mella, Viale Italia. Contatta lo Studio Castelvedere per informazioni.">
    <title>Vendesi Lotti Edificabili - Viale Italia, Bagnolo Mella</title>
    <!-- Script Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        
        /* Stili per il Lightbox con Zoom e Drag tramite Transform */
        #lightbox {
            display: none;
            position: fixed;
            z-index: 9999;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            justify-content: center;
            align-items: center;
            overflow: hidden;
            touch-action: none;
        }
        #lightbox-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            cursor: zoom-in;
        }
        #lightbox-img {
            max-width: 90%;
            max-height: 90%;
            transition: transform 0.3s ease-out;
            user-select: none;
            -webkit-user-drag: none;
            transform-origin: center center;
        }
        .is-zoomed #lightbox-img {
            cursor: grab;
        }
        .is-dragging #lightbox-img {
            cursor: grabbing;
            transition: none; /* Rimuove transizione durante il drag per reattività */
        }
        
        .justify-text {
            text-align: justify;
            text-justify: inter-word;
        }

        .map-wrapper {
            position: relative;
            width: 100%;
            height: 500px;
        }
        .map-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100% !important;
            height: 100% !important;
            border: 0;
        }
        @media (max-width: 768px) {
            .map-wrapper { height: 350px; }
        }

        .section-title {
            text-align: center;
            margin-bottom: 2rem; 
        }
        .section-title h2 {
            font-size: 1.875rem;
            line-height: 2.25rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.025em;
            margin-bottom: 0.75rem;
        }
        .section-title .underline {
            width: 5rem;
            height: 0.375rem;
            background-color: #1e3a8a;
            margin-left: auto;
            margin-right: auto;
            border-radius: 9999px;
        }
        .section-title.light .underline {
            background-color: #3b82f6;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Lightbox -->
    <div id="lightbox">
        <div id="lightbox-container" onclick="handleLightboxClick(event)">
            <img id="lightbox-img" src="" alt="Planimetria Ingrandita">
        </div>
        <button onclick="closeLightbox()" class="absolute top-5 right-5 text-white text-5xl z-[10000] hover:text-gray-300 transition">&times;</button>
        <div class="absolute bottom-8 left-1/2 -translate-x-1/2 text-white/60 text-sm font-medium bg-black/40 px-6 py-2 rounded-full backdrop-blur-md pointer-events-none">
            Clicca per zoomare • Trascina per muoverti
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 md:px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3 cursor-pointer" onclick="window.location.href='#home'">
                <div class="w-10 h-10 bg-blue-900 rounded-lg flex items-center justify-center text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                </div>
                <div class="flex flex-col leading-tight">
                    <span class="text-lg font-black text-blue-900 uppercase tracking-tighter">Lotti</span>
                    <span class="text-lg font-black text-blue-900 uppercase tracking-tighter">Viale Italia</span>
                </div>
            </div>

            <div class="hidden md:flex space-x-8 items-center text-sm font-semibold uppercase tracking-wider">
                <a href="#home" class="text-gray-400 hover:text-blue-900 transition">Home</a>
                <a href="#lotti" class="text-gray-400 hover:text-blue-900 transition">I Lotti</a>
                <a href="#mappa" class="text-gray-400 hover:text-blue-900 transition">Posizione</a>
                <a href="#contatti" class="bg-blue-900 text-white px-6 py-2 rounded-full hover:bg-blue-800 transition">Contatti</a>
            </div>
            <a href="#contatti" class="md:hidden bg-blue-900 text-white px-4 py-2 rounded-full text-[10px] uppercase font-bold">Contatti</a>
        </nav>
    </header>

    <!-- Hero -->
    <main id="home" class="container mx-auto px-6 py-10 md:py-16">
        <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-20">
            <div class="lg:w-1/2 text-center lg:text-left">
                <h1 class="text-4xl md:text-6xl font-black text-gray-900 mb-6 leading-tight tracking-tighter text-balance">
                    Area Edificabile <br> Viale Italia
                </h1>
                <p class="text-lg md:text-xl text-gray-500 mb-10 font-light leading-relaxed">
                    Lotti residenziali e direzionali in posizione privilegiata a <strong>Bagnolo Mella</strong>. Ideali per ville singole o bifamiliari.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                    <a href="#contatti" class="bg-blue-900 text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all text-center">Richiedi Info</a>
                    <a href="#lotti" class="bg-white border border-gray-200 text-gray-700 px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-50 transition text-center">Scopri i Lotti</a>
                </div>
            </div>
            <div class="lg:w-1/2 w-full">
                <div class="relative group cursor-zoom-in" onclick="openLightbox('Planimetria.jpg')">
                    <div class="absolute -inset-4 bg-blue-100/50 rounded-[3rem] blur-2xl group-hover:bg-blue-200/50 transition duration-500"></div>
                    <div class="relative bg-white p-3 rounded-[2rem] shadow-2xl border border-gray-100">
                        <img src="Planimetria.jpg" alt="Planimetria" class="rounded-[1.5rem] w-full h-auto" onerror="this.src='https://placehold.co/1200x800/f3f4f6/1e3a8a?text=Planimetria+Generale';">
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Sezione Lotti -->
    <section id="lotti" class="bg-white py-12 md:py-16">
        <div class="container mx-auto px-6">
            <div class="section-title">
                <h2 class="text-gray-900">Dettaglio Lotti</h2>
                <div class="underline"></div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <script>
                    const lotti = [
                        { n: 1, type: 'Edilizia Libera', desc: 'Lotto residenziale di prestigio con affaccio diretto su Viale Italia. Perfetto per una villa singola con ampio giardino.', mq: '640', h: '7.50', piani: '2', slp: '239' },
                        { n: 2, type: 'Edilizia Libera', desc: 'Situato in posizione riservata con accesso da via Gramsci, garantisce tranquillità e privacy totale.', mq: '720', h: '7.50', piani: '2', slp: '300' },
                        { n: 3, type: 'Edilizia Libera', desc: 'Situato in posizione riservata con accesso da via Gramsci, garantisce tranquillità e privacy totale.', mq: '550', h: '7.50', piani: '2', slp: '300' },
                        { n: 4, type: 'Edilizia Convenzionata', desc: 'Soluzione dedicata all\'edilizia convenzionata con possibilità di sviluppare fino a 3 piani fuori terra.', mq: '560', h: '10.50', piani: '3', slp: '300', alert: true }
                    ];

                    document.write(lotti.map(l => `
                        <div class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col hover:border-blue-100 transition-colors">
                            <div class="w-10 h-10 bg-red-600 text-white flex items-center justify-center rounded-full mb-6 font-bold shadow-lg shadow-red-200 text-lg">${l.n}</div>
                            <h3 class="font-black text-2xl text-gray-900 mb-1">Lotto ${l.n}</h3>
                            <div class="${l.alert ? 'text-red-600' : 'text-blue-900'} text-[10px] font-black uppercase tracking-widest mb-4">${l.type}</div>
                            <p class="text-gray-500 text-[14px] leading-relaxed mb-8 flex-grow justify-text">${l.desc}</p>
                            
                            <div class="space-y-3 pt-6 border-t border-gray-50 text-[13px]">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 font-medium">Superficie</span>
                                    <span class="font-bold text-gray-900">&approx; ${l.mq} mq</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 font-medium">Altezza Max</span>
                                    <span class="font-bold text-gray-900">${l.h} m</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 font-medium">Piani</span>
                                    <span class="font-bold text-gray-900">${l.piani}</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 font-medium">SLP</span>
                                    <span class="font-bold text-gray-900">${l.slp} mq</span>
                                </div>
                            </div>
                        </div>
                    `).join(''));
                </script>
            </div>
        </div>
    </section>

    <!-- Sezione Mappa -->
    <section id="mappa" class="py-12 md:py-16 bg-blue-50/30">
        <div class="container mx-auto px-6">
            <div class="section-title">
                <h2 class="text-gray-900">Posizione</h2>
                <div class="underline"></div>
                <p class="text-gray-500 font-medium italic mt-4">Viale Italia 7, Bagnolo Mella</p>
            </div>
            <div class="map-wrapper rounded-[2.5rem] overflow-hidden shadow-2xl border-[8px] md:border-[16px] border-white relative z-10 bg-white">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2799.350329432646!2d10.1212863155555!3d45.4418899791000!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x478170c01460596b%3A0x193a3b0a761b7f1!2sViale%2BItalia%2C%2B7%2C%2B25021%2BBagnolo%2BMella%2BBS!5e0!3m2!1sit!2sit!4v1678886500000" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </section>

    <!-- Sezione Contatti -->
    <section id="contatti" class="bg-[#0f172a] py-12 md:py-16 relative">
        <div class="container mx-auto px-6 relative z-10">
            <div class="section-title light">
                <h2 class="text-white">Contatti</h2>
                <div class="underline"></div>
            </div>
            
            <div class="max-w-5xl mx-auto grid lg:grid-cols-2 gap-16 items-start">
                <div class="text-center lg:text-left">
                    <p class="text-gray-400 text-base md:text-lg font-light mb-10 leading-relaxed text-balance italic">
                        Contatta lo Studio Castelvedere per un colloquio informativo, per visionare la documentazione tecnica o per un sopralluogo nell'area.
                    </p>
                    
                    <div class="space-y-6 flex flex-col items-center lg:items-start">
                        <a href="tel:030621980" class="flex items-center space-x-4 text-xl font-bold hover:text-blue-400 transition text-white group">
                            <span class="w-12 h-12 bg-white/5 rounded-full flex items-center justify-center text-blue-400 group-hover:bg-blue-400 group-hover:text-white transition">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" stroke-width="2"></path></svg>
                            </span>
                            <span>030 621980 - 030 6820648</span>
                        </a>
                        <a href="mailto:studio@castelvedere.com" class="flex items-center space-x-4 text-xl font-bold hover:text-blue-400 transition text-white group">
                            <span class="w-12 h-12 bg-white/5 rounded-full flex items-center justify-center text-blue-400 group-hover:bg-blue-400 group-hover:text-white transition">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke-width="2"></path></svg>
                            </span>
                            <span class="break-all">studio@castelvedere.com</span>
                        </a>
                    </div>
                </div>

                <div class="bg-white p-8 md:p-12 rounded-[3rem] text-gray-900 shadow-2xl w-full">
                    <img src="Logo Castelvedere sfondo trasparente.png" alt="Studio Castelvedere" class="mx-auto mb-8 max-h-24 w-auto" onerror="this.src='https://placehold.co/400x150/ffffff/1e3a8a?text=Studio+Castelvedere';">
                    <div class="text-center pt-8 border-t border-gray-100">
                        <p class="text-gray-500 text-sm mt-2 font-medium">Via Leno, 9c &middot; 25021 Bagnolo Mella (BS)</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-black py-10 text-center text-gray-700 text-[10px] font-bold uppercase tracking-[0.3em]">
        <p>&copy; 2025 Sheratonn Italiana s.r.l. &middot; Bagnolo Mella (BS)</p>
    </footer>

    <script>
        // Logica Zoom Planimetria
        const lb = document.getElementById('lightbox');
        const lbImg = document.getElementById('lightbox-img');
        const container = document.getElementById('lightbox-container');

        let scale = 1;
        let isDragging = false;
        let startX, startY;
        let translateX = 0;
        let translateY = 0;

        function openLightbox(src) {
            lbImg.src = src;
            lb.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            resetZoom();
        }

        function closeLightbox() {
            lb.style.display = 'none';
            document.body.style.overflow = 'auto';
            resetZoom();
        }

        function resetZoom() {
            scale = 1;
            translateX = 0;
            translateY = 0;
            lb.classList.remove('is-zoomed', 'is-dragging');
            updateTransform();
        }

        function updateTransform() {
            lbImg.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
        }

        // Click per zoomare/dezoomare
        function handleLightboxClick(e) {
            // Se clicco fuori dall'immagine o sono in modalità drag, non fare nulla
            if (e.target !== lbImg && e.target !== container) return;
            
            // Se clicco sullo sfondo scuro (container) mentre NON sono zoomato, chiudo
            if (e.target === container && scale === 1) {
                closeLightbox();
                return;
            }

            // Toggle Zoom
            if (scale === 1) {
                scale = 2.5;
                lb.classList.add('is-zoomed');
            } else {
                resetZoom();
            }
            updateTransform();
        }

        // Gestione Drag (Mouse & Touch)
        const startDrag = (e) => {
            if (scale === 1) return;
            isDragging = true;
            lb.classList.add('is-dragging');
            
            const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
            const clientY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
            
            startX = clientX - translateX;
            startY = clientY - translateY;
        };

        const onDrag = (e) => {
            if (!isDragging) return;
            e.preventDefault();
            
            const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
            const clientY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
            
            translateX = clientX - startX;
            translateY = clientY - startY;
            
            updateTransform();
        };

        const endDrag = () => {
            isDragging = false;
            lb.classList.remove('is-dragging');
        };

        // Eventi Mouse
        lbImg.addEventListener('mousedown', startDrag);
        window.addEventListener('mousemove', onDrag);
        window.addEventListener('mouseup', endDrag);

        // Eventi Touch
        lbImg.addEventListener('touchstart', startDrag);
        window.addEventListener('touchmove', onDrag, { passive: false });
        window.addEventListener('touchend', endDrag);

        // Escape per chiudere
        document.addEventListener('keydown', (e) => { if (e.key === "Escape") closeLightbox(); });
    </script>
</body>
</html>